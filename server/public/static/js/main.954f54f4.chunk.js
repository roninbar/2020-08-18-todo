(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){e.exports=a(115)},105:function(e,t,a){},107:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),c=(a(105),a(18)),s=a.n(c),u=a(25),l=(a(107),a(44)),m=a(48),h=a(14),p=a(41),d=a(54),f=a(55),v=a(61),b=a(60),E=a(4),g=a(167),w=a(157),O=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n}return Object(f.a)(a,[{key:"onSubmit",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r,o,i,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state,n=a.username,r=a.password,(o=new URLSearchParams).set("username",n),o.set("password",r),e.next=7,fetch("/login",{method:"post",body:o});case 7:i=e.sent,c=i.status,(u=this.props.history)&&200<=c&&c<300&&u.push("/");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeField",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.username,n=t.password;return r.a.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit.bind(this)},r.a.createElement(g.a,{variant:"outlined",type:"text",name:"username",label:"Username",value:a,onChange:this.onChangeField.bind(this)}),r.a.createElement(g.a,{variant:"outlined",type:"password",name:"password",label:"Password",value:n,onChange:this.onChangeField.bind(this)}),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:!a||!n},"Log In"))}}]),a}(n.Component),y=Object(h.f)(Object(E.a)((function(e){return{root:{"& .MuiTextField-root, & .MuiButton-root":{margin:e.spacing(1)},"& .MuiTextField-root":{width:"25ch"}}}}))(O)),j=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",password2:"",available:!0},n}return Object(f.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"onSubmit",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state,n=a.username,r=a.password,(o=new URLSearchParams).set("username",n),o.set("password",r),e.next=7,fetch("/user",{method:"POST",body:o});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.password2,o=e.available,i=this.props.classes;return r.a.createElement("form",{className:i.root,noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit.bind(this)},r.a.createElement(g.a,{variant:"outlined",type:"text",name:"username",label:"Username",error:!t||!o,value:t,onChange:this.onChange.bind(this)}),r.a.createElement(g.a,{variant:"outlined",type:"password",name:"password",label:"Password",error:!a,value:a,onChange:this.onChange.bind(this)}),r.a.createElement(g.a,{variant:"outlined",type:"password",name:"password2",label:"Repeat Password",error:a!==n,value:n,onChange:this.onChange.bind(this)}),r.a.createElement(w.a,{variant:"contained",type:"submit",color:"primary",size:"large"},"Sign Up"))}},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.username,!(r=this.state.username)||r===n){e.next=8;break}return e.next=5,fetch("/user/".concat(r),{method:"HEAD"});case 5:o=e.sent,i=o.status,this.setState({available:404===i});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(n.Component),T=Object(h.f)(Object(E.a)((function(e){return{root:{"& .MuiTextField-root, & .MuiButton-root":{margin:e.spacing(1)},"& .MuiTextField-root":{width:"25ch"}}}}))(j)),S=a(71),C=a(84),D=a(158),x=a(15),k=a(166);function L(e){return{type:"TODO_REPLACE_LIST",payload:e}}function _(e){return{type:"TODO_SET_ERROR",payload:e}}function R(){return function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"TODO_SET_LOADING"}),e.next=3,fetch("/todo/all");case 3:if(200!==(a=e.sent).status){e.next=14;break}return e.t0=t,e.t1=L,e.next=9,a.json();case 9:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=15;break;case 14:t(_({message:a.statusText}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function I(e,t,a,n){return P(e,a,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}function P(e,t,a){return function(){var n=Object(u.a)(s.a.mark((function n(r){var o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"TODO_SET_LOADING"}),n.next=3,fetch(t,a);case 3:(o=n.sent).status===e?r(R()):r(_({message:o.statusText}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var A=Object(D.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),N=Object(l.b)(null,(function(e){return{submit:function(t){var a=t.what,n=t.when;return a&&n&&e(function(e,t,a){return I(201,"POST","/todo",{who:e,what:t,when:a})}("ron",a,n))}}}))((function(e){var t=e.submit,a=Object(n.useState)(""),o=Object(S.a)(a,2),i=o[0],c=o[1],s=Object(n.useState)(new Date),u=Object(S.a)(s,2),l=u[0],m=u[1],h=A();return r.a.createElement(x.a,{utils:C.a},r.a.createElement("form",{className:h.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t({what:i,when:l}),c(""),m(new Date)}},r.a.createElement(g.a,{variant:"outlined",label:"What",value:i,onChange:function(e){var t=e.target.value;return c(t)}}),r.a.createElement(k.a,{inputVariant:"outlined",value:l,onChange:m}),r.a.createElement(w.a,{variant:"contained",type:"submit",color:"primary",size:"large"},"Add")))}));var M=a(156),F=a(161),W=a(165),U=a(164),B=a(160),V=a(162),z=a(163),G=(a(113),Object(D.a)({table:{minWidth:650}})),J=Object(l.b)((function(e){return{todo:e.todo}}),(function(e){return{updateList:function(){return e(R())},doneItem:function(t,a){return e(function(e,t){return I(200,"PATCH","/todo/".concat(e),{done:t})}(t,a))},deleteItem:function(t){return e(function(e){return P(204,"/todo/".concat(e),{method:"DELETE"})}(t))}}}))((function(e){var t=e.todo,a=e.updateList,o=e.doneItem,i=e.deleteItem;Object(n.useEffect)((function(){a()}),[a]);var c=G();return r.a.createElement(B.a,{component:M.a},r.a.createElement(F.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(U.a,null,"What"),r.a.createElement(U.a,{align:"right"},"When"),r.a.createElement(U.a,{align:"right"},"Done"),r.a.createElement(U.a,{align:"right"},"Delete"))),r.a.createElement(W.a,null,t.list.map((function(e){var t=e.id,a=e.what,n=e.when,c=e.done,s=e.error;return r.a.createElement(z.a,{key:t,style:{backgroundColor:s?"lightcoral":c?"palegreen":"white"}},r.a.createElement(U.a,{component:"th",scope:"row",style:{textDecoration:c?"line-through":"none"}},a),r.a.createElement(U.a,{align:"right"},n.toString()),r.a.createElement(U.a,{align:"right"},r.a.createElement(w.a,{variant:"contained",onClick:function(){return o(t,!c)}},"Done")),r.a.createElement(U.a,{align:"right"},r.a.createElement(w.a,{variant:"contained",onClick:function(){return i(t)}},"Delete")))})))))})),H=a(32),$=a(81),q=a(82),K=a(51),Q=a(83),X=a.n(Q);var Y=Object(H.combineReducers)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],loading:!0,error:!1},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TODO_SET_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:!1});case"TODO_REPLACE_LIST":return{list:n,loading:!1,error:!1};case"TODO_SET_ERROR":return X.a.set(Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:!0}),"list[".concat(n.id,"].error"),!0);default:return e}}});var Z=a(159),ee=function(e){var t=[q.a],a=[H.applyMiddleware.apply(void 0,t)],n=$.composeWithDevTools.apply(void 0,a);return Object(H.createStore)(Y,n)}();var te=function(){function e(){return(e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/logout",{method:"POST"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{store:ee},r.a.createElement(m.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/signin"},r.a.createElement("h1",null,"To Do List"),r.a.createElement(y,null)),r.a.createElement(h.a,{path:"/signup"},r.a.createElement("h1",null,"To Do List"),r.a.createElement(T,null)),r.a.createElement(h.a,{path:"/"},r.a.createElement("div",null,r.a.createElement(Z.a,null,r.a.createElement(m.b,{to:"#",onClick:function(t){return e.apply(this,arguments)}},"Log Out"))),r.a.createElement("h1",null,"To Do List"),r.a.createElement(N,null),r.a.createElement(J,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.954f54f4.chunk.js.map